var FingerprintJS=function(exports){"use strict";var __assign=function(){__assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};function __awaiter(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})}function __generator(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true}}}function __spreadArrays(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r}var version="3.3.2";function wait(durationMs,resolveWith){return new Promise(function(resolve){return setTimeout(resolve,durationMs,resolveWith)})}function requestIdleCallbackIfAvailable(fallbackTimeout,deadlineTimeout){if(deadlineTimeout===void 0){deadlineTimeout=Infinity}var requestIdleCallback=window.requestIdleCallback;if(requestIdleCallback){return new Promise(function(resolve){return requestIdleCallback.call(window,function(){return resolve()},{timeout:deadlineTimeout})})}else{return wait(Math.min(fallbackTimeout,deadlineTimeout))}}function isPromise(value){return value&&typeof value.then==="function"}function awaitIfAsync(action,callback){try{var returnedValue=action();if(isPromise(returnedValue)){returnedValue.then(function(result){return callback(true,result)},function(error){return callback(false,error)})}else{callback(true,returnedValue)}}catch(error){callback(false,error)}}function forEachWithBreaks(items,callback,loopReleaseInterval){if(loopReleaseInterval===void 0){loopReleaseInterval=16}return __awaiter(this,void 0,void 0,function(){var lastLoopReleaseTime,i,now;return __generator(this,function(_a){switch(_a.label){case 0:lastLoopReleaseTime=Date.now();i=0;_a.label=1;case 1:if(!(i<items.length))return[3,4];callback(items[i],i);now=Date.now();if(!(now>=lastLoopReleaseTime+loopReleaseInterval))return[3,3];lastLoopReleaseTime=now;return[4,wait(0)];case 2:_a.sent();_a.label=3;case 3:++i;return[3,1];case 4:return[2]}})})}function x64Add(m,n){m=[m[0]>>>16,m[0]&65535,m[1]>>>16,m[1]&65535];n=[n[0]>>>16,n[0]&65535,n[1]>>>16,n[1]&65535];var o=[0,0,0,0];o[3]+=m[3]+n[3];o[2]+=o[3]>>>16;o[3]&=65535;o[2]+=m[2]+n[2];o[1]+=o[2]>>>16;o[2]&=65535;o[1]+=m[1]+n[1];o[0]+=o[1]>>>16;o[1]&=65535;o[0]+=m[0]+n[0];o[0]&=65535;return[o[0]<<16|o[1],o[2]<<16|o[3]]}function x64Multiply(m,n){m=[m[0]>>>16,m[0]&65535,m[1]>>>16,m[1]&65535];n=[n[0]>>>16,n[0]&65535,n[1]>>>16,n[1]&65535];var o=[0,0,0,0];o[3]+=m[3]*n[3];o[2]+=o[3]>>>16;o[3]&=65535;o[2]+=m[2]*n[3];o[1]+=o[2]>>>16;o[2]&=65535;o[2]+=m[3]*n[2];o[1]+=o[2]>>>16;o[2]&=65535;o[1]+=m[1]*n[3];o[0]+=o[1]>>>16;o[1]&=65535;o[1]+=m[2]*n[2];o[0]+=o[1]>>>16;o[1]&=65535;o[1]+=m[3]*n[1];o[0]+=o[1]>>>16;o[1]&=65535;o[0]+=m[0]*n[3]+m[1]*n[2]+m[2]*n[1]+m[3]*n[0];o[0]&=65535;return[o[0]<<16|o[1],o[2]<<16|o[3]]}function x64Rotl(m,n){n%=64;if(n===32){return[m[1],m[0]]}else if(n<32){return[m[0]<<n|m[1]>>>32-n,m[1]<<n|m[0]>>>32-n]}else{n-=32;return[m[1]<<n|m[0]>>>32-n,m[0]<<n|m[1]>>>32-n]}}function x64LeftShift(m,n){n%=64;if(n===0){return m}else if(n<32){return[m[0]<<n|m[1]>>>32-n,m[1]<<n]}else{return[m[1]<<n-32,0]}}function x64Xor(m,n){return[m[0]^n[0],m[1]^n[1]]}function x64Fmix(h){h=x64Xor(h,[0,h[0]>>>1]);h=x64Multiply(h,[4283543511,3981806797]);h=x64Xor(h,[0,h[0]>>>1]);h=x64Multiply(h,[3301882366,444984403]);h=x64Xor(h,[0,h[0]>>>1]);return h}function x64hash128(key,seed){key=key||"";seed=seed||0;var remainder=key.length%16;var bytes=key.length-remainder;var h1=[0,seed];var h2=[0,seed];var k1=[0,0];var k2=[0,0];var c1=[2277735313,289559509];var c2=[1291169091,658871167];var i;for(i=0;i<bytes;i=i+16){k1=[key.charCodeAt(i+4)&255|(key.charCodeAt(i+5)&255)<<8|(key.charCodeAt(i+6)&255)<<16|(key.charCodeAt(i+7)&255)<<24,key.charCodeAt(i)&255|(key.charCodeAt(i+1)&255)<<8|(key.charCodeAt(i+2)&255)<<16|(key.charCodeAt(i+3)&255)<<24];k2=[key.charCodeAt(i+12)&255|(key.charCodeAt(i+13)&255)<<8|(key.charCodeAt(i+14)&255)<<16|(key.charCodeAt(i+15)&255)<<24,key.charCodeAt(i+8)&255|(key.charCodeAt(i+9)&255)<<8|(key.charCodeAt(i+10)&255)<<16|(key.charCodeAt(i+11)&255)<<24];k1=x64Multiply(k1,c1);k1=x64Rotl(k1,31);k1=x64Multiply(k1,c2);h1=x64Xor(h1,k1);h1=x64Rotl(h1,27);h1=x64Add(h1,h2);h1=x64Add(x64Multiply(h1,[0,5]),[0,1390208809]);k2=x64Multiply(k2,c2);k2=x64Rotl(k2,33);k2=x64Multiply(k2,c1);h2=x64Xor(h2,k2);h2=x64Rotl(h2,31);h2=x64Add(h2,h1);h2=x64Add(x64Multiply(h2,[0,5]),[0,944331445])}k1=[0,0];k2=[0,0];switch(remainder){case 15:k2=x64Xor(k2,x64LeftShift([0,key.charCodeAt(i+14)],48));case 14:k2=x64Xor(k2,x64LeftShift([0,key.charCodeAt(i+13)],40));case 13:k2=x64Xor(k2,x64LeftShift([0,key.charCodeAt(i+12)],32));case 12:k2=x64Xor(k2,x64LeftShift([0,key.charCodeAt(i+11)],24));case 11:k2=x64Xor(k2,x64LeftShift([0,key.charCodeAt(i+10)],16));case 10:k2=x64Xor(k2,x64LeftShift([0,key.charCodeAt(i+9)],8));case 9:k2=x64Xor(k2,[0,key.charCodeAt(i+8)]);k2=x64Multiply(k2,c2);k2=x64Rotl(k2,33);k2=x64Multiply(k2,c1);h2=x64Xor(h2,k2);case 8:k1=x64Xor(k1,x64LeftShift([0,key.charCodeAt(i+7)],56));case 7:k1=x64Xor(k1,x64LeftShift([0,key.charCodeAt(i+6)],48));case 6:k1=x64Xor(k1,x64LeftShift([0,key.charCodeAt(i+5)],40));case 5:k1=x64Xor(k1,x64LeftShift([0,key.charCodeAt(i+4)],32));case 4:k1=x64Xor(k1,x64LeftShift([0,key.charCodeAt(i+3)],24));case 3:k1=x64Xor(k1,x64LeftShift([0,key.charCodeAt(i+2)],16));case 2:k1=x64Xor(k1,x64LeftShift([0,key.charCodeAt(i+1)],8));case 1:k1=x64Xor(k1,[0,key.charCodeAt(i)]);k1=x64Multiply(k1,c1);k1=x64Rotl(k1,31);k1=x64Multiply(k1,c2);h1=x64Xor(h1,k1)}h1=x64Xor(h1,[0,key.length]);h2=x64Xor(h2,[0,key.length]);h1=x64Add(h1,h2);h2=x64Add(h2,h1);h1=x64Fmix(h1);h2=x64Fmix(h2);h1=x64Add(h1,h2);h2=x64Add(h2,h1);return("00000000"+(h1[0]>>>0).toString(16)).slice(-8)+("00000000"+(h1[1]>>>0).toString(16)).slice(-8)+("00000000"+(h2[0]>>>0).toString(16)).slice(-8)+("00000000"+(h2[1]>>>0).toString(16)).slice(-8)}function errorToObject(error){var _a;return __assign({name:error.name,message:error.message,stack:(_a=error.stack)===null||_a===void 0?void 0:_a.split("\n")},error)}function includes(haystack,needle){for(var i=0,l=haystack.length;i<l;++i){if(haystack[i]===needle){return true}}return false}function excludes(haystack,needle){return!includes(haystack,needle)}function toInt(value){return parseInt(value)}function toFloat(value){return parseFloat(value)}function replaceNaN(value,replacement){return typeof value==="number"&&isNaN(value)?replacement:value}function countTruthy(values){return values.reduce(function(sum,value){return sum+(value?1:0)},0)}function round(value,base){if(base===void 0){base=1}if(Math.abs(base)>=1){return Math.round(value/base)*base}else{var counterBase=1/base;return Math.round(value*counterBase)/counterBase}}function parseSimpleCssSelector(selector){var _a,_b;var errorMessage="Unexpected syntax '"+selector+"'";var tagMatch=/^\s*([a-z-]*)(.*)$/i.exec(selector);var tag=tagMatch[1]||undefined;var attributes={};var partsRegex=/([.:#][\w-]+|\[.+?\])/gi;var addAttribute=function(name,value){attributes[name]=attributes[name]||[];attributes[name].push(value)};for(;;){var match=partsRegex.exec(tagMatch[2]);if(!match){break}var part=match[0];switch(part[0]){case".":addAttribute("class",part.slice(1));break;case"#":addAttribute("id",part.slice(1));break;case"[":{var attributeMatch=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(part);if(attributeMatch){addAttribute(attributeMatch[1],(_b=(_a=attributeMatch[4])!==null&&_a!==void 0?_a:attributeMatch[5])!==null&&_b!==void 0?_b:"")}else{throw new Error(errorMessage)}break}default:throw new Error(errorMessage)}}return[tag,attributes]}function ensureErrorWithMessage(error){return error&&typeof error==="object"&&"message"in error?error:{message:error}}function loadSource(source,sourceOptions){var isFinalResultLoaded=function(loadResult){return typeof loadResult!=="function"};var sourceLoadPromise=new Promise(function(resolveLoad){var loadStartTime=Date.now();awaitIfAsync(source.bind(null,sourceOptions),function(){var loadArgs=[];for(var _i=0;_i<arguments.length;_i++){loadArgs[_i]=arguments[_i]}var loadDuration=Date.now()-loadStartTime;if(!loadArgs[0]){return resolveLoad(function(){return{error:ensureErrorWithMessage(loadArgs[1]),duration:loadDuration}})}var loadResult=loadArgs[1];if(isFinalResultLoaded(loadResult)){return resolveLoad(function(){return{value:loadResult,duration:loadDuration}})}resolveLoad(function(){return new Promise(function(resolveGet){var getStartTime=Date.now();awaitIfAsync(loadResult,function(){var getArgs=[];for(var _i=0;_i<arguments.length;_i++){getArgs[_i]=arguments[_i]}var duration=loadDuration+Date.now()-getStartTime;if(!getArgs[0]){return resolveGet({error:ensureErrorWithMessage(getArgs[1]),duration:duration})}resolveGet({value:getArgs[1],duration:duration})})})})})});return function getComponent(){return sourceLoadPromise.then(function(finalizeSource){return finalizeSource()})}}function loadSources(sources,sourceOptions,excludeSources){var includedSources=Object.keys(sources).filter(function(sourceKey){return excludes(excludeSources,sourceKey)});var sourceGetters=Array(includedSources.length);forEachWithBreaks(includedSources,function(sourceKey,index){sourceGetters[index]=loadSource(sources[sourceKey],sourceOptions)});return function getComponents(){return __awaiter(this,void 0,void 0,function(){var components,_i,includedSources_1,sourceKey,componentPromises,_loop_1,state_1;return __generator(this,function(_a){switch(_a.label){case 0:components={};for(_i=0,includedSources_1=includedSources;_i<includedSources_1.length;_i++){sourceKey=includedSources_1[_i];components[sourceKey]=undefined}componentPromises=Array(includedSources.length);_loop_1=function(){var hasAllComponentPromises;return __generator(this,function(_a){switch(_a.label){case 0:hasAllComponentPromises=true;return[4,forEachWithBreaks(includedSources,function(sourceKey,index){if(!componentPromises[index]){if(sourceGetters[index]){componentPromises[index]=sourceGetters[index]().then(function(component){return components[sourceKey]=component})}else{hasAllComponentPromises=false}}})];case 1:_a.sent();if(hasAllComponentPromises){return[2,"break"]}return[4,wait(1)];case 2:_a.sent();return[2]}})};_a.label=1;case 1:return[5,_loop_1()];case 2:state_1=_a.sent();if(state_1==="break")return[3,4];_a.label=3;case 3:return[3,1];case 4:return[4,Promise.all(componentPromises)];case 5:_a.sent();return[2,components]}})})}}function isTrident(){var w=window;var n=navigator;return countTruthy(["MSCSSMatrix"in w,"msSetImmediate"in w,"msIndexedDB"in w,"msMaxTouchPoints"in n,"msPointerEnabled"in n])>=4}function isEdgeHTML(){var w=window;var n=navigator;return countTruthy(["msWriteProfilerMark"in w,"MSStream"in w,"msLaunchUri"in n,"msSaveBlob"in n])>=3&&!isTrident()}function isChromium(){var w=window;var n=navigator;return countTruthy(["webkitPersistentStorage"in n,"webkitTemporaryStorage"in n,n.vendor.indexOf("Google")===0,"webkitResolveLocalFileSystemURL"in w,"BatteryManager"in w,"webkitMediaStream"in w,"webkitSpeechGrammar"in w])>=5}function isWebKit(){var w=window;var n=navigator;return countTruthy(["ApplePayError"in w,"CSSPrimitiveValue"in w,"Counter"in w,n.vendor.indexOf("Apple")===0,"getStorageUpdates"in n,"WebKitMediaKeys"in w])>=4}function isDesktopSafari(){var w=window;return countTruthy(["safari"in w,!("DeviceMotionEvent"in w),!("ongestureend"in w),!("standalone"in navigator)])>=3}function isGecko(){var _a,_b;var w=window;return countTruthy(["buildID"in navigator,"MozAppearance"in((_b=(_a=document.documentElement)===null||_a===void 0?void 0:_a.style)!==null&&_b!==void 0?_b:{}),"onmozfullscreenchange"in w,"mozInnerScreenX"in w,"CSSMozDocumentRule"in w,"CanvasCaptureMediaStream"in w])>=4}function isChromium86OrNewer(){var w=window;return countTruthy([!("MediaSettingsRange"in w),"RTCEncodedAudioFrame"in w,""+w.Intl==="[object Intl]",""+w.Reflect==="[object Reflect]"])>=3}function isWebKit606OrNewer(){var w=window;return countTruthy(["DOMRectList"in w,"RTCPeerConnectionIceEvent"in w,"SVGGeometryElement"in w,"ontransitioncancel"in w])>=3}function isIPad(){if(navigator.platform==="iPad"){return true}var s=screen;var screenRatio=s.width/s.height;return countTruthy(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,screenRatio>.65&&screenRatio<1.53])>=2}function getFullscreenElement(){var d=document;return d.fullscreenElement||d.msFullscreenElement||d.mozFullScreenElement||d.webkitFullscreenElement||null}function exitFullscreen(){var d=document;return(d.exitFullscreen||d.msExitFullscreen||d.mozCancelFullScreen||d.webkitExitFullscreen).call(d)}function isAndroid(){var isItChromium=isChromium();var isItGecko=isGecko();if(!isItChromium&&!isItGecko){return false}var w=window;return countTruthy(["onorientationchange"in w,"orientation"in w,isItChromium&&!("SharedWorker"in w),isItGecko&&/android/i.test(navigator.appVersion)])>=2}function getAudioFingerprint(){var w=window;var AudioContext=w.OfflineAudioContext||w.webkitOfflineAudioContext;if(!AudioContext){return-2}if(doesCurrentBrowserSuspendAudioContext()){return-1}var hashFromIndex=4500;var hashToIndex=5e3;var context=new AudioContext(1,hashToIndex,44100);var oscillator=context.createOscillator();oscillator.type="triangle";oscillator.frequency.value=1e4;var compressor=context.createDynamicsCompressor();compressor.threshold.value=-50;compressor.knee.value=40;compressor.ratio.value=12;compressor.attack.value=0;compressor.release.value=.25;oscillator.connect(compressor);compressor.connect(context.destination);oscillator.start(0);var _a=startRenderingAudio(context),renderPromise=_a[0],finishRendering=_a[1];var fingerprintPromise=renderPromise.then(function(buffer){return getHash(buffer.getChannelData(0).subarray(hashFromIndex))},function(error){if(error.name==="timeout"||error.name==="suspended"){return-3}throw error});fingerprintPromise.catch(function(){return undefined});return function(){finishRendering();return fingerprintPromise}}function doesCurrentBrowserSuspendAudioContext(){return isWebKit()&&!isDesktopSafari()&&!isWebKit606OrNewer()}function startRenderingAudio(context){var renderTryMaxCount=3;var renderRetryDelay=500;var runningMaxAwaitTime=500;var runningSufficientTime=5e3;var finalize=function(){return undefined};var resultPromise=new Promise(function(resolve,reject){var isFinalized=false;var renderTryCount=0;var startedRunningAt=0;context.oncomplete=function(event){return resolve(event.renderedBuffer)};var startRunningTimeout=function(){setTimeout(function(){return reject(makeInnerError("timeout"))},Math.min(runningMaxAwaitTime,startedRunningAt+runningSufficientTime-Date.now()))};var tryRender=function(){try{context.startRendering();switch(context.state){case"running":startedRunningAt=Date.now();if(isFinalized){startRunningTimeout()}break;case"suspended":if(!document.hidden){renderTryCount++}if(isFinalized&&renderTryCount>=renderTryMaxCount){reject(makeInnerError("suspended"))}else{setTimeout(tryRender,renderRetryDelay)}break}}catch(error){reject(error)}};tryRender();finalize=function(){if(!isFinalized){isFinalized=true;if(startedRunningAt>0){startRunningTimeout()}}}});return[resultPromise,finalize]}function getHash(signal){var hash=0;for(var i=0;i<signal.length;++i){hash+=Math.abs(signal[i])}return hash}function makeInnerError(name){var error=new Error(name);error.name=name;return error}function withIframe(action,initialHtml,domPollInterval){var _a,_b,_c;if(domPollInterval===void 0){domPollInterval=50}return __awaiter(this,void 0,void 0,function(){var d,iframe;return __generator(this,function(_d){switch(_d.label){case 0:d=document;_d.label=1;case 1:if(!!d.body)return[3,3];return[4,wait(domPollInterval)];case 2:_d.sent();return[3,1];case 3:iframe=d.createElement("iframe");_d.label=4;case 4:_d.trys.push([4,,10,11]);return[4,new Promise(function(_resolve,_reject){var isComplete=false;var resolve=function(){isComplete=true;_resolve()};var reject=function(error){isComplete=true;_reject(error)};iframe.onload=resolve;iframe.onerror=reject;var style=iframe.style;style.setProperty("display","block","important");style.position="absolute";style.top="0";style.left="0";style.visibility="hidden";if(initialHtml&&"srcdoc"in iframe){iframe.srcdoc=initialHtml}else{iframe.src="about:blank"}d.body.appendChild(iframe);var checkReadyState=function(){var _a,_b;if(isComplete){return}if(((_b=(_a=iframe.contentWindow)===null||_a===void 0?void 0:_a.document)===null||_b===void 0?void 0:_b.readyState)==="complete"){resolve()}else{setTimeout(checkReadyState,10)}};checkReadyState()})];case 5:_d.sent();_d.label=6;case 6:if(!!((_b=(_a=iframe.contentWindow)===null||_a===void 0?void 0:_a.document)===null||_b===void 0?void 0:_b.body))return[3,8];return[4,wait(domPollInterval)];case 7:_d.sent();return[3,6];case 8:return[4,action(iframe,iframe.contentWindow)];case 9:return[2,_d.sent()];case 10:(_c=iframe.parentNode)===null||_c===void 0?void 0:_c.removeChild(iframe);return[7];case 11:return[2]}})})}function selectorToElement(selector){var _a=parseSimpleCssSelector(selector),tag=_a[0],attributes=_a[1];var element=document.createElement(tag!==null&&tag!==void 0?tag:"div");for(var _i=0,_b=Object.keys(attributes);_i<_b.length;_i++){var name_1=_b[_i];element.setAttribute(name_1,attributes[name_1].join(" "))}return element}var testString="mmMwWLliI0O&1";var textSize="48px";var baseFonts=["monospace","sans-serif","serif"];var fontList=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function getFonts(){return withIframe(function(_,_a){var document=_a.document;var holder=document.body;holder.style.fontSize=textSize;var spansContainer=document.createElement("div");var defaultWidth={};var defaultHeight={};var createSpan=function(fontFamily){var span=document.createElement("span");var style=span.style;style.position="absolute";style.top="0";style.left="0";style.fontFamily=fontFamily;span.textContent=testString;spansContainer.appendChild(span);return span};var createSpanWithFonts=function(fontToDetect,baseFont){return createSpan("'"+fontToDetect+"',"+baseFont)};var initializeBaseFontsSpans=function(){return baseFonts.map(createSpan)};var initializeFontsSpans=function(){var spans={};var _loop_1=function(font){spans[font]=baseFonts.map(function(baseFont){return createSpanWithFonts(font,baseFont)})};for(var _i=0,fontList_1=fontList;_i<fontList_1.length;_i++){var font=fontList_1[_i];_loop_1(font)}return spans};var isFontAvailable=function(fontSpans){return baseFonts.some(function(baseFont,baseFontIndex){return fontSpans[baseFontIndex].offsetWidth!==defaultWidth[baseFont]||fontSpans[baseFontIndex].offsetHeight!==defaultHeight[baseFont]})};var baseFontsSpans=initializeBaseFontsSpans();var fontsSpans=initializeFontsSpans();holder.appendChild(spansContainer);for(var index=0;index<baseFonts.length;index++){defaultWidth[baseFonts[index]]=baseFontsSpans[index].offsetWidth;defaultHeight[baseFonts[index]]=baseFontsSpans[index].offsetHeight}return fontList.filter(function(font){return isFontAvailable(fontsSpans[font])})})}function getPlugins(){var rawPlugins=navigator.plugins;if(!rawPlugins){return undefined}var plugins=[];for(var i=0;i<rawPlugins.length;++i){var plugin=rawPlugins[i];if(!plugin){continue}var mimeTypes=[];for(var j=0;j<plugin.length;++j){var mimeType=plugin[j];mimeTypes.push({type:mimeType.type,suffixes:mimeType.suffixes})}plugins.push({name:plugin.name,description:plugin.description,mimeTypes:mimeTypes})}return plugins}function getCanvasFingerprint(){var _a=makeCanvasContext(),canvas=_a[0],context=_a[1];if(!isSupported(canvas,context)){return{winding:false,geometry:"",text:""}}return{winding:doesSupportWinding(context),geometry:makeGeometryImage(canvas,context),text:makeTextImage(canvas,context)}}function makeCanvasContext(){var canvas=document.createElement("canvas");canvas.width=1;canvas.height=1;return[canvas,canvas.getContext("2d")]}function isSupported(canvas,context){return!!(context&&canvas.toDataURL)}function doesSupportWinding(context){context.rect(0,0,10,10);context.rect(2,2,6,6);return!context.isPointInPath(5,5,"evenodd")}function makeTextImage(canvas,context){canvas.width=240;canvas.height=60;context.textBaseline="alphabetic";context.fillStyle="#f60";context.fillRect(100,1,62,20);context.fillStyle="#069";context.font='11pt "Times New Roman"';var printedText="Cwm fjordbank gly "+String.fromCharCode(55357,56835);context.fillText(printedText,2,15);context.fillStyle="rgba(102, 204, 0, 0.2)";context.font="18pt Arial";context.fillText(printedText,4,45);return save(canvas)}function makeGeometryImage(canvas,context){canvas.width=122;canvas.height=110;context.globalCompositeOperation="multiply";for(var _i=0,_a=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];_i<_a.length;_i++){var _b=_a[_i],color=_b[0],x=_b[1],y=_b[2];context.fillStyle=color;context.beginPath();context.arc(x,y,40,0,Math.PI*2,true);context.closePath();context.fill()}context.fillStyle="#f9c";context.arc(60,60,60,0,Math.PI*2,true);context.arc(60,60,20,0,Math.PI*2,true);context.fill("evenodd");return save(canvas)}function save(canvas){return canvas.toDataURL()}function getTouchSupport(){var n=navigator;var maxTouchPoints=0;var touchEvent;if(n.maxTouchPoints!==undefined){maxTouchPoints=toInt(n.maxTouchPoints)}else if(n.msMaxTouchPoints!==undefined){maxTouchPoints=n.msMaxTouchPoints}try{document.createEvent("TouchEvent");touchEvent=true}catch(_a){touchEvent=false}var touchStart="ontouchstart"in window;return{maxTouchPoints:maxTouchPoints,touchEvent:touchEvent,touchStart:touchStart}}function getOsCpu(){return navigator.oscpu}function getLanguages(){var n=navigator;var result=[];var language=n.language||n.userLanguage||n.browserLanguage||n.systemLanguage;if(language!==undefined){result.push([language])}if(Array.isArray(n.languages)){if(!(isChromium()&&isChromium86OrNewer())){result.push(n.languages)}}else if(typeof n.languages==="string"){var languages=n.languages;if(languages){result.push(languages.split(","))}}return result}function getColorDepth(){return window.screen.colorDepth}function getDeviceMemory(){return replaceNaN(toFloat(navigator.deviceMemory),undefined)}function getScreenResolution(){var s=screen;var parseDimension=function(value){return replaceNaN(toInt(value),null)};var dimensions=[parseDimension(s.width),parseDimension(s.height)];dimensions.sort().reverse();return dimensions}var screenFrameCheckInterval=2500;var roundingPrecision=10;var screenFrameBackup;var screenFrameSizeTimeoutId;function watchScreenFrame(){if(screenFrameSizeTimeoutId!==undefined){return}var checkScreenFrame=function(){var frameSize=getCurrentScreenFrame();if(isFrameSizeNull(frameSize)){screenFrameSizeTimeoutId=setTimeout(checkScreenFrame,screenFrameCheckInterval)}else{screenFrameBackup=frameSize;screenFrameSizeTimeoutId=undefined}};checkScreenFrame()}function getScreenFrame(){var _this=this;watchScreenFrame();return function(){return __awaiter(_this,void 0,void 0,function(){var frameSize;return __generator(this,function(_a){switch(_a.label){case 0:frameSize=getCurrentScreenFrame();if(!isFrameSizeNull(frameSize))return[3,2];if(screenFrameBackup){return[2,__spreadArrays(screenFrameBackup)]}if(!getFullscreenElement())return[3,2];return[4,exitFullscreen()];case 1:_a.sent();frameSize=getCurrentScreenFrame();_a.label=2;case 2:if(!isFrameSizeNull(frameSize)){screenFrameBackup=frameSize}return[2,frameSize]}})})}}function getRoundedScreenFrame(){var _this=this;var screenFrameGetter=getScreenFrame();return function(){return __awaiter(_this,void 0,void 0,function(){var frameSize,processSize;return __generator(this,function(_a){switch(_a.label){case 0:return[4,screenFrameGetter()];case 1:frameSize=_a.sent();processSize=function(sideSize){return sideSize===null?null:round(sideSize,roundingPrecision)};return[2,[processSize(frameSize[0]),processSize(frameSize[1]),processSize(frameSize[2]),processSize(frameSize[3])]]}})})}}function getCurrentScreenFrame(){var s=screen;return[replaceNaN(toFloat(s.availTop),null),replaceNaN(toFloat(s.width)-toFloat(s.availWidth)-replaceNaN(toFloat(s.availLeft),0),null),replaceNaN(toFloat(s.height)-toFloat(s.availHeight)-replaceNaN(toFloat(s.availTop),0),null),replaceNaN(toFloat(s.availLeft),null)]}function isFrameSizeNull(frameSize){for(var i=0;i<4;++i){if(frameSize[i]){return false}}return true}function getHardwareConcurrency(){return replaceNaN(toInt(navigator.hardwareConcurrency),undefined)}function getTimezone(){var _a;var DateTimeFormat=(_a=window.Intl)===null||_a===void 0?void 0:_a.DateTimeFormat;if(DateTimeFormat){var timezone=(new DateTimeFormat).resolvedOptions().timeZone;if(timezone){return timezone}}var offset=-getTimezoneOffset();return"UTC"+(offset>=0?"+":"")+Math.abs(offset)}function getTimezoneOffset(){var currentYear=(new Date).getFullYear();return Math.max(toFloat(new Date(currentYear,0,1).getTimezoneOffset()),toFloat(new Date(currentYear,6,1).getTimezoneOffset()))}function getSessionStorage(){try{return!!window.sessionStorage}catch(error){return true}}function getLocalStorage(){try{return!!window.localStorage}catch(e){return true}}function getIndexedDB(){if(isTrident()||isEdgeHTML()){return undefined}try{return!!window.indexedDB}catch(e){return true}}function getOpenDatabase(){return!!window.openDatabase}function getCpuClass(){return navigator.cpuClass}function getPlatform(){var platform=navigator.platform;if(platform==="MacIntel"){if(isWebKit()&&!isDesktopSafari()){return isIPad()?"iPad":"iPhone"}}return platform}function getVendor(){return navigator.vendor||""}function getVendorFlavors(){var flavors=[];for(var _i=0,_a=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];_i<_a.length;_i++){var key=_a[_i];var value=window[key];if(value&&typeof value==="object"){flavors.push(key)}}return flavors.sort()}function areCookiesEnabled(){var d=document;try{d.cookie="cookietest=1; SameSite=Strict;";var result=d.cookie.indexOf("cookietest=")!==-1;d.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT";return result}catch(e){return false}}var filters={abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'a[title="7naga poker" i]','[title="ALIENBOLA" i]'],abpvn:["#quangcaomb",".iosAdsiosAds-layout",".quangcao",'[href^="https://r88.vn/"]','[href^="https://zbet.vn/"]'],adBlockFinland:[".mainostila",".sponsorit",".ylamainos",'a[href*="/clickthrgh.asp?"]','a[href^="https://app.readpeak.com/ads"]'],adBlockPersian:["#navbar_notice_50",'a[href^="http://g1.v.fwmrm.net/ad/"]',".kadr",'TABLE[width="140px"]',"#divAgahi"],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect"],adGuardAnnoyances:['amp-embed[type="zen"]',".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil"],adGuardBase:["#ad-after","#ad-p3",".BetterJsPopOverlay","#ad_300X250","#bannerfloat22"],adGuardChinese:['#piao_div_0[style*="width:140px;"]','a[href*=".ttz5.cn"]','a[href*=".yabovip2027.com/"]',".tm3all2h4b",".cc5278_banner_ad"],adGuardFrench:[".zonepub",'[class*="_adLeaderboard"]','[id^="block-xiti_oas-"]','a[href^="http://ptapjmp.com/"]','a[href^="https://go.alvexo.com/"]'],adGuardGerman:[".banneritemwerbung_head_1",".boxstartwerbung",".werbung3",'a[href^="http://www.eis.de/index.phtml?refid="]','a[href^="https://www.tipico.com/?affiliateId="]'],adGuardJapanese:["#kauli_yad_1","#ad-giftext","#adsSPRBlock",'a[href^="http://ad2.trafficgate.net/"]','a[href^="http://www.rssad.jp/"]'],adGuardMobile:["amp-auto-ads","#mgid_iframe",".amp_ad",'amp-embed[type="24smi"]',"#mgid_iframe1"],adGuardRussian:['a[href^="https://ya-distrib.ru/r/"]','a[href^="https://ad.letmeads.com/"]',".reclama",'div[id^="smi2adblock"]','div[id^="AdFox_banner_"]'],adGuardSocial:['a[href^="//www.stumbleupon.com/submit?url="]','a[href^="//telegram.me/share/url?"]',".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",'[href^="http://ads.glispa.com/"]'],adGuardTrackingProtection:['amp-embed[type="taboola"]',"#qoo-counter",'a[href^="http://click.hotlog.ru/"]','a[href^="http://hitcounter.ru/top/stat.php"]','a[href^="http://top.mail.ru/jump"]'],adGuardTurkish:["#backkapat","#reklami",'a[href^="http://adserv.ontek.com.tr/"]','a[href^="http://izlenzi.com/campaign/"]','a[href^="http://www.installads.net/"]'],bulgarian:["td#freenet_table_ads","#adbody","#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:["#AD_banner_bottom","#Ads_google_02","#N-ad-article-rightRail-1","#ad-fullbanner2","#ad-zone-2"],easyListChina:['a[href*=".wensixuetang.com/"]','A[href*="/hth107.com/"]','.appguide-wrap[onclick*="bcebos.com"]',".frontpageAdvM","#taotaole"],easyListCookie:["#adtoniq-msg-bar","#CoockiesPage","#CookieModal_cookiemodal","#DO_CC_PANEL","#ShowCookie"],easyListCzechSlovak:["#onlajny-stickers","#reklamni-box",".reklama-megaboard",".sklik",'[id^="sklikReklama"]'],easyListDutch:["#advertentie","#vipAdmarktBannerBlock",".adstekst",'a[href^="https://xltube.nl/click/"]',"#semilo-lrectangle"],easyListGermany:['a[href^="http://www.hw-area.com/?dp="]','a[href^="https://ads.sunmaker.com/tracking.php?"]',".werbung-skyscraper2",".bannergroup_werbung",".ads_rechts"],easyListItaly:[".box_adv_annunci",".sb-box-pubbliredazionale",'a[href^="http://affiliazioniads.snai.it/"]','a[href^="https://adserver.html.it/"]','a[href^="https://affiliazioniads.snai.it/"]'],easyListLithuania:[".reklamos_tarpas",".reklamos_nuorodos",'img[alt="Reklaminis skydelis"]','img[alt="Dedikuoti.lt serveriai"]','img[alt="Hostingas Serveriai.lt"]'],estonian:['A[href*="http://pay4results24.eu"]'],fanboyAnnoyances:["#feedback-tab","#taboola-below-article",".feedburnerFeedBlock",".widget-feedburner-counter",'[title="Subscribe to our blog"]'],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:[".td-tags-and-social-wrapper-box",".twitterContainer",".youtube-social",'a[title^="Like us on Facebook"]','img[alt^="Share on Digg"]'],frellwitSwedish:['a[href*="casinopro.se"][target="_blank"]','a[href*="doktor-se.onelink.me"]',"article.category-samarbete","div.holidAds","ul.adsmodern"],greekAdBlock:['A[href*="adman.otenet.gr/click?"]','A[href*="http://axiabanners.exodus.gr/"]','A[href*="http://interactive.forthnet.gr/click?"]',"DIV.agores300","TABLE.advright"],hungarian:['A[href*="ad.eval.hu"]','A[href*="ad.netmedia.hu"]','A[href*="daserver.ultraweb.hu"]',"#cemp_doboz",".optimonk-iframe-container"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container",".cookie-msg-info-container","#cookies-policy-sticky"],icelandicAbp:['A[href^="/framework/resources/forms/ads.aspx"]'],latvian:['a[href="http://www.salidzini.lv/"][style="display: block; width: 120px; height: 40px; overflow: hidden; position: relative;"]','a[href="http://www.salidzini.lv/"][style="display: block; width: 88px; height: 31px; overflow: hidden; position: relative;"]'],listKr:['a[href*="//kingtoon.slnk.kr"]','a[href*="//playdsb.com/kr"]',"div.logly-lift-adz",'div[data-widget_id="ml6EJ074"]',"ins.daum_ddn_area"],listeAr:[".geminiLB1Ad",".right-and-left-sponsers",'a[href*=".aflam.info"]','a[href*="booraq.org"]','a[href*="dubizzle.com/ar/?utm_source="]'],listeFr:['a[href^="http://promo.vador.com/"]',"#adcontainer_recherche",'a[href*="weborama.fr/fcgi-bin/"]',".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",'[href^="https://aff.sendhub.pl/"]','a[href^="http://advmanager.techfun.pl/redirect/"]','a[href^="http://www.trizer.pl/?utm_source"]',"div#skapiec_ad"],ro:['a[href^="//afftrk.altex.ro/Counter/Click"]','a[href^="/magazin/"]','a[href^="https://blackfridaysales.ro/trk/shop/"]','a[href^="https://event.2performant.com/events/click"]','a[href^="https://l.profitshare.ro/"]'],ruAd:['a[href*="//febrare.ru/"]','a[href*="//utimg.ru/"]','a[href*="://chikidiki.ru"]',"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]","#ads-google-middle_rectangle-group",".ads300s",".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",".ctpl-fullbanner",".zergnet-recommend",".yt.btn-link.btn-md.btn"]};function getDomBlockers(_a){var debug=(_a===void 0?{}:_a).debug;return __awaiter(this,void 0,void 0,function(){var filterNames,allSelectors,blockedSelectors,activeBlockers;var _b;return __generator(this,function(_c){switch(_c.label){case 0:if(!isApplicable()){return[2,undefined]}filterNames=Object.keys(filters);allSelectors=(_b=[]).concat.apply(_b,filterNames.map(function(filterName){return filters[filterName]}));return[4,getBlockedSelectors(allSelectors)];case 1:blockedSelectors=_c.sent();if(debug){printDebug(blockedSelectors)}activeBlockers=filterNames.filter(function(filterName){var selectors=filters[filterName];var blockedCount=countTruthy(selectors.map(function(selector){return blockedSelectors[selector]}));return blockedCount>selectors.length*.6});activeBlockers.sort();return[2,activeBlockers]}})})}function isApplicable(){return isWebKit()||isAndroid()}function getBlockedSelectors(selectors){var _a;return __awaiter(this,void 0,void 0,function(){var d,root,elements,blockedSelectors,i,element,holder,i;return __generator(this,function(_b){switch(_b.label){case 0:d=document;root=d.createElement("div");elements=new Array(selectors.length);blockedSelectors={};forceShow(root);for(i=0;i<selectors.length;++i){element=selectorToElement(selectors[i]);holder=d.createElement("div");forceShow(holder);holder.appendChild(element);root.appendChild(holder);elements[i]=element}_b.label=1;case 1:if(!!d.body)return[3,3];return[4,wait(50)];case 2:_b.sent();return[3,1];case 3:d.body.appendChild(root);try{for(i=0;i<selectors.length;++i){if(!elements[i].offsetParent){blockedSelectors[selectors[i]]=true}}}finally{(_a=root.parentNode)===null||_a===void 0?void 0:_a.removeChild(root)}return[2,blockedSelectors]}})})}function forceShow(element){element.style.setProperty("display","block","important")}function printDebug(blockedSelectors){var message="DOM blockers debug:\n```";for(var _i=0,_a=Object.keys(filters);_i<_a.length;_i++){var filterName=_a[_i];message+="\n"+filterName+":";for(var _b=0,_c=filters[filterName];_b<_c.length;_b++){var selector=_c[_b];message+="\n  "+selector+" "+(blockedSelectors[selector]?"🚫":"➡️")}}console.log(message+"\n```")}function getColorGamut(){for(var _i=0,_a=["rec2020","p3","srgb"];_i<_a.length;_i++){var gamut=_a[_i];if(matchMedia("(color-gamut: "+gamut+")").matches){return gamut}}return undefined}function areColorsInverted(){if(doesMatch("inverted")){return true}if(doesMatch("none")){return false}return undefined}function doesMatch(value){return matchMedia("(inverted-colors: "+value+")").matches}function areColorsForced(){if(doesMatch$1("active")){return true}if(doesMatch$1("none")){return false}return undefined}function doesMatch$1(value){return matchMedia("(forced-colors: "+value+")").matches}var maxValueToCheck=100;function getMonochromeDepth(){if(!matchMedia("(min-monochrome: 0)").matches){return undefined}for(var i=0;i<=maxValueToCheck;++i){if(matchMedia("(max-monochrome: "+i+")").matches){return i}}throw new Error("Too high value")}function getContrastPreference(){if(doesMatch$2("no-preference")){return 0}if(doesMatch$2("high")||doesMatch$2("more")){return 1}if(doesMatch$2("low")||doesMatch$2("less")){return-1}if(doesMatch$2("forced")){return 10}return undefined}function doesMatch$2(value){return matchMedia("(prefers-contrast: "+value+")").matches}function isMotionReduced(){if(doesMatch$3("reduce")){return true}if(doesMatch$3("no-preference")){return false}return undefined}function doesMatch$3(value){return matchMedia("(prefers-reduced-motion: "+value+")").matches}function isHDR(){if(doesMatch$4("high")){return true}if(doesMatch$4("standard")){return false}return undefined}function doesMatch$4(value){return matchMedia("(dynamic-range: "+value+")").matches}var M=Math;var fallbackFn=function(){return 0};function getMathFingerprint(){var acos=M.acos||fallbackFn;var acosh=M.acosh||fallbackFn;var asin=M.asin||fallbackFn;var asinh=M.asinh||fallbackFn;var atanh=M.atanh||fallbackFn;var atan=M.atan||fallbackFn;var sin=M.sin||fallbackFn;var sinh=M.sinh||fallbackFn;var cos=M.cos||fallbackFn;var cosh=M.cosh||fallbackFn;var tan=M.tan||fallbackFn;var tanh=M.tanh||fallbackFn;var exp=M.exp||fallbackFn;var expm1=M.expm1||fallbackFn;var log1p=M.log1p||fallbackFn;var powPI=function(value){return M.pow(M.PI,value)};var acoshPf=function(value){return M.log(value+M.sqrt(value*value-1))};var asinhPf=function(value){return M.log(value+M.sqrt(value*value+1))};var atanhPf=function(value){return M.log((1+value)/(1-value))/2};var sinhPf=function(value){return M.exp(value)-1/M.exp(value)/2};var coshPf=function(value){return(M.exp(value)+1/M.exp(value))/2};var expm1Pf=function(value){return M.exp(value)-1};var tanhPf=function(value){return(M.exp(2*value)-1)/(M.exp(2*value)+1)};var log1pPf=function(value){return M.log(1+value)};return{acos:acos(.12312423423423424),acosh:acosh(1e308),acoshPf:acoshPf(1e154),asin:asin(.12312423423423424),asinh:asinh(1),asinhPf:asinhPf(1),atanh:atanh(.5),atanhPf:atanhPf(.5),atan:atan(.5),sin:sin(-1e300),sinh:sinh(1),sinhPf:sinhPf(1),cos:cos(10.000000000123),cosh:cosh(1),coshPf:coshPf(1),tan:tan(-1e300),tanh:tanh(1),tanhPf:tanhPf(1),exp:exp(1),expm1:expm1(1),expm1Pf:expm1Pf(1),log1p:log1p(10),log1pPf:log1pPf(10),powPI:powPI(-100)}}var defaultText="mmMwWLliI0fiflO&1";var presets={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]};function getFontPreferences(){return withNaturalFonts(function(document,container){var elements={};var sizes={};for(var _i=0,_a=Object.keys(presets);_i<_a.length;_i++){var key=_a[_i];var _b=presets[key],_c=_b[0],style=_c===void 0?{}:_c,_d=_b[1],text=_d===void 0?defaultText:_d;var element=document.createElement("span");element.textContent=text;element.style.whiteSpace="nowrap";for(var _e=0,_f=Object.keys(style);_e<_f.length;_e++){var name_1=_f[_e];var value=style[name_1];if(value!==undefined){element.style[name_1]=value}}elements[key]=element;container.appendChild(document.createElement("br"));container.appendChild(element)}for(var _g=0,_h=Object.keys(presets);_g<_h.length;_g++){var key=_h[_g];sizes[key]=elements[key].getBoundingClientRect().width}return sizes})}function withNaturalFonts(action,containerWidthPx){if(containerWidthPx===void 0){containerWidthPx=4e3}return withIframe(function(_,iframeWindow){var iframeDocument=iframeWindow.document;var iframeBody=iframeDocument.body;var bodyStyle=iframeBody.style;bodyStyle.width=containerWidthPx+"px";bodyStyle.webkitTextSizeAdjust=bodyStyle.textSizeAdjust="none";if(isChromium()){iframeBody.style.zoom=""+1/iframeWindow.devicePixelRatio}else if(isWebKit()){iframeBody.style.zoom="reset"}var linesOfText=iframeDocument.createElement("div");linesOfText.textContent=__spreadArrays(Array(containerWidthPx/20<<0)).map(function(){return"word"}).join(" ");iframeBody.appendChild(linesOfText);return action(iframeDocument,iframeBody)},'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}var sources={fonts:getFonts,domBlockers:getDomBlockers,fontPreferences:getFontPreferences,audio:getAudioFingerprint,screenFrame:getRoundedScreenFrame,osCpu:getOsCpu,languages:getLanguages,colorDepth:getColorDepth,deviceMemory:getDeviceMemory,screenResolution:getScreenResolution,hardwareConcurrency:getHardwareConcurrency,timezone:getTimezone,sessionStorage:getSessionStorage,localStorage:getLocalStorage,indexedDB:getIndexedDB,openDatabase:getOpenDatabase,cpuClass:getCpuClass,platform:getPlatform,plugins:getPlugins,canvas:getCanvasFingerprint,touchSupport:getTouchSupport,vendor:getVendor,vendorFlavors:getVendorFlavors,cookiesEnabled:areCookiesEnabled,colorGamut:getColorGamut,invertedColors:areColorsInverted,forcedColors:areColorsForced,monochrome:getMonochromeDepth,contrast:getContrastPreference,reducedMotion:isMotionReduced,hdr:isHDR,math:getMathFingerprint};function loadBuiltinSources(options){return loadSources(sources,options,[])}var commentTemplate="$ if upgrade to Pro: https://fpjs.dev/pro";function getConfidence(components){var openConfidenceScore=getOpenConfidenceScore(components);var proConfidenceScore=deriveProConfidenceScore(openConfidenceScore);return{score:openConfidenceScore,comment:commentTemplate.replace(/\$/g,""+proConfidenceScore)}}function getOpenConfidenceScore(components){if(isAndroid()){return.4}if(isWebKit()){return isDesktopSafari()?.5:.3}var platform=components.platform.value||"";if(/^Win/.test(platform)){return.6}if(/^Mac/.test(platform)){return.5}return.7}function deriveProConfidenceScore(openConfidenceScore){return round(.99+.01*openConfidenceScore,1e-4)}function componentsToCanonicalString(components){var result="";for(var _i=0,_a=Object.keys(components).sort();_i<_a.length;_i++){var componentKey=_a[_i];var component=components[componentKey];var value=component.error?"error":JSON.stringify(component.value);result+=""+(result?"|":"")+componentKey.replace(/([:|\\])/g,"\\$1")+":"+value}return result}function componentsToDebugString(components){return JSON.stringify(components,function(_key,value){if(value instanceof Error){return errorToObject(value)}return value},2)}function hashComponents(components){return x64hash128(componentsToCanonicalString(components))}function makeLazyGetResult(components){var visitorIdCache;var confidence=getConfidence(components);return{get visitorId(){if(visitorIdCache===undefined){visitorIdCache=hashComponents(this.components)}return visitorIdCache},set visitorId(visitorId){visitorIdCache=visitorId},confidence:confidence,components:components,version:version}}function prepareForSources(delayFallback){if(delayFallback===void 0){delayFallback=50}return requestIdleCallbackIfAvailable(delayFallback,delayFallback*2)}function makeAgent(getComponents,debug){var creationTime=Date.now();return{get:function(options){return __awaiter(this,void 0,void 0,function(){var startTime,components,result;return __generator(this,function(_a){switch(_a.label){case 0:startTime=Date.now();return[4,getComponents()];case 1:components=_a.sent();result=makeLazyGetResult(components);if(debug||(options===null||options===void 0?void 0:options.debug)){console.log("Copy the text below to get the debug data:\n\n```\nversion: "+result.version+"\nuserAgent: "+navigator.userAgent+"\ntimeBetweenLoadAndGet: "+(startTime-creationTime)+"\nvisitorId: "+result.visitorId+"\ncomponents: "+componentsToDebugString(components)+"\n```")}return[2,result]}})})}}}function load(_a){var _b=_a===void 0?{}:_a,delayFallback=_b.delayFallback,debug=_b.debug,_c=_b.monitoring;return __awaiter(this,void 0,void 0,function(){var getComponents;return __generator(this,function(_d){switch(_d.label){case 0:return[4,prepareForSources(delayFallback)];case 1:_d.sent();getComponents=loadBuiltinSources({debug:debug});return[2,makeAgent(getComponents,debug)]}})})}var index={load:load,hashComponents:hashComponents,componentsToDebugString:componentsToDebugString};var murmurX64Hash128=x64hash128;exports.componentsToDebugString=componentsToDebugString;exports.default=index;exports.getFullscreenElement=getFullscreenElement;exports.getScreenFrame=getScreenFrame;exports.hashComponents=hashComponents;exports.isAndroid=isAndroid;exports.isChromium=isChromium;exports.isDesktopSafari=isDesktopSafari;exports.isEdgeHTML=isEdgeHTML;exports.isGecko=isGecko;exports.isTrident=isTrident;exports.isWebKit=isWebKit;exports.load=load;exports.loadSources=loadSources;exports.murmurX64Hash128=murmurX64Hash128;exports.prepareForSources=prepareForSources;exports.sources=sources;return exports}({});jQuery(document).ready(function($){"use strict";$(document).on("submit","form.preference-center",function(e){var $this=$(this);$this.find(":submit").css("opacity","0.5").prop("disabled",true);$this.trigger("cloroxPreferenceCenterFormSubmit")});$(document).on("click",".pc-verify-send",function(e){var $this=$(this);var form=$this.closest("form.preference-center");var email=form.find('input[name="user_email"]');if(email.length==0){email=form.find('input[name="emailAddress"]')}if(email.length==0||email[0].checkValidity()==false){$this.trigger("cloroxPreferenceCenterVerifyFail",["Invalid email address"]);return}var data={email:email.val()};$this.css("opacity","0.5").prop("disabled",true);$this.trigger("cloroxPreferenceCenterVerifySend");$.ajax(CLWP_PC_GLOBAL.verifyAjaxUrl,{type:"POST",data:data,timeout:6e4}).done(function(response,textStatus,jqXHR){if(response.status==0){$this.trigger("cloroxPreferenceCenterVerifySent",response.data)}else{$this.trigger("cloroxPreferenceCenterVerifyFail",response.data.errors);$this.css("opacity","1.0").prop("disabled",false)}}).fail(function(jqXHR,textStatus,errorThrown){var errors=[];errors.push({code:jqXHR.status,message:textStatus});$this.trigger("cloroxPreferenceCenterVerifyFail",errors);$this.css("opacity","1.0").prop("disabled",false)});setTimeout(function(){$this.css("opacity","1.0").prop("disabled",false)},3e4)})}(jQuery));const forms=document.querySelectorAll("form.preference-center");if(forms.length>0){const fpPromise=FingerprintJS.load({monitoring:false});fpPromise.then(fp=>fp.get()).then(result=>{forms.forEach(function(form){var el=document.createElement("input");el.setAttribute("type","hidden");el.setAttribute("name","fp");el.setAttribute("value",result.visitorId);form.appendChild(el)})})}jQuery(document).ready(function($){"use strict";var _$document=$(document);var AJAX_TIMEOUT=6e4;var AJAX_COMM_ERROR="We're sorry we seem to be having difficulties "+"with your internet connection. Please try again at a later time. ";if(CLWP_PC_GLOBAL.debug){_$document.on("cloroxPreferenceCenterLogin",function(e){console.log("clorox-preference-center: Login successful")});_$document.on("cloroxPreferenceCenterLoginFailed",function(e){console.log("clorox-preference-center: Login failed")});_$document.on("cloroxPreferenceCenterRegister",function(e){console.log("clorox-preference-center: Register successful")});_$document.on("cloroxPreferenceCenterRegisterFailed",function(e){console.log("clorox-preference-center: Register failed")});_$document.on("cloroxPreferenceCenterLostpass",function(e){console.log("clorox-preference-center: Password reset request successful")});_$document.on("cloroxPreferenceCenterLostpassFailed",function(e){console.log("clorox-preference-center: Password reset request failed")});_$document.on("cloroxPreferenceCenterProfile",function(e){console.log("clorox-preference-center: Profile change request successful")});_$document.on("cloroxPreferenceCenterProfileFailed",function(e){console.log("clorox-preference-center: Profile change request failed")})}function enableSubmit(form){form.find(":submit").css("opacity","1.0").prop("disabled",false);form.trigger("cloroxPreferenceCenterEnableSubmit")}_$document.on("submit","form.login.ajax-form",function(e){e.preventDefault();var $this=$(this);var $error=$(".ajax-error-login").hide().empty();var data=$this.serialize();if(CLWP_PC_GLOBAL.isLoggedIn){if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: Already logged in")}return false}if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: Posting to "+CLWP_PC_GLOBAL.loginAjaxUrl,data)}$.ajax(CLWP_PC_GLOBAL.loginAjaxUrl,{type:"POST",data:data,timeout:AJAX_TIMEOUT}).done(function(response,textStatus,jqXHR){if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: done function",response)}if(response.status==0){if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: Logged in")}CLWP_PC_GLOBAL.isLoggedIn=true;$this.trigger("cloroxPreferenceCenterLogin",response.data)}else{if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: Authentication failed",response)}$.each(response.data.errors,function(){$error.append("<div>"+this.message+"</div>")});$error.show();$this.trigger("cloroxPreferenceCenterLoginFailed",response.data.errors);enableSubmit($this)}}).fail(function(jqXHR,textStatus,errorThrown){if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: fail function",jqXHR,textStatus,errorThrown)}$error.append(AJAX_COMM_ERROR+" ("+textStatus+")");$error.show();var errors=[];errors.push({code:jqXHR.status,message:textStatus});$this.trigger("cloroxPreferenceCenterLoginFailed",errors);enableSubmit($this)});return false});_$document.on("submit","form.register.ajax-form",function(e){var $this=$(this);if($this.find("input[name=externalIdentifier]").val()){if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: form is setup for facebook registration")}handleFacebookRegister($this);return false}var $error=$(".ajax-error-register").hide().empty();var data=$this.serialize()+"&instance=0";if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: Posting to "+CLWP_PC_GLOBAL.registerAjaxUrl,data)}$.ajax(CLWP_PC_GLOBAL.registerAjaxUrl,{type:"POST",data:data,timeout:AJAX_TIMEOUT,headers:{Accept:"application/json"}}).done(function(response){if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: done function",data)}if(response.status==0){$this.trigger("cloroxPreferenceCenterRegister",response.data);CLWP_PC_GLOBAL.isLoggedIn=true;if(response.data.encrypted_consumer_id){CLWP_PC_GLOBAL.encryptedConsumerId=response.data.encrypted_consumer_id}$this.trigger("cloroxPreferenceCenterLogin",response.data)}else{$.each(response.data.errors,function(){$error.append("<div>"+this.message+"</div>")});$error.show();$this.trigger("cloroxPreferenceCenterRegisterFailed",response.data.errors);enableSubmit($this)}}).fail(function(jqXHR,textStatus,errorThrown){if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: fail function")}$error.append(AJAX_COMM_ERROR+" ("+textStatus+")");$error.show();var errors=[];errors.push({code:jqXHR.status,message:textStatus});$this.trigger("cloroxPreferenceCenterRegisterFailed",errors);enableSubmit($this)});return false});_$document.on("submit","form.profile.ajax-form",function(){var $this=$(this);var $error=$(".ajax-error-profile").hide().empty();var $message=$(".ajax-message-profile").hide().empty();var data=$this.serialize();$.ajax(CLWP_PC_GLOBAL.profileAjaxUrl,{type:"POST",beforeSend:function(xhr){xhr.setRequestHeader("X-WP-Nonce",CLWP_PC_GLOBAL.nonce)},data:data,timeout:AJAX_TIMEOUT}).done(function(response){if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: done function",response)}if(response.status==0){if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: profile updated")}$this.trigger("cloroxPreferenceCenterProfile",response.data);$message.text(response.message).show()}else{$.each(response.data.errors,function(){$error.append("<div>"+this.message+"</div>")});$error.show();$this.trigger("cloroxPreferenceCenterProfileFailed",response.data.errors)}}).fail(function(jqXHR,textStatus,errorThrown){if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: fail function")}$error.append(AJAX_COMM_ERROR+" ("+textStatus+")");$error.show();var errors=[];errors.push({code:jqXHR.status,message:textStatus});$this.trigger("cloroxPreferenceCenterProfileFailed",errors)});return false});var $passwordForm=$("form.lost-password.ajax-form");$("[name=redirect_to]",$passwordForm).val(CLWP_PC_GLOBAL.loginAjaxUrl+"&checkemail=confirm");_$document.on("submit","form.lost-password.ajax-form",function(e){var $this=$(this);var $error=$(".ajax-error-password").hide().empty();var $message=$(".ajax-message-password").hide().empty();var data=$this.serialize()+"&instance=0";$.ajax(CLWP_PC_GLOBAL.lostPasswordAjaxUrl,{type:"POST",data:data,timeout:AJAX_TIMEOUT,headers:{Accept:"application/json"}}).done(function(response){if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: done function",data)}if(response.status==0){if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: password reset email enqueued")}$this.trigger("cloroxPreferenceCenterLostpass",response.data);$message.text(response.message).show()}else{$.each(response.data.errors,function(){$error.append("<div>"+this.message+"</div>")});$error.show();$this.trigger("cloroxPreferenceCenterLostpassFailed",response.data.errors);enableSubmit($this)}}).fail(function(jqXHR,textStatus,errorThrown){if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: fail function")}$error.append(AJAX_COMM_ERROR+" ("+textStatus+")");$error.show();var errors=[];errors.push({code:jqXHR.status,message:textStatus});$this.trigger("cloroxPreferenceCenterLostpassFailed",errors);enableSubmit($this)});return false});_$document.on("submit","form.survey.ajax-form",function(){var $this=$(this);var $error=$(".ajax-error-survey").hide().empty();var $message=$(".ajax-message-survey").hide().empty();var data=$this.serialize();$.ajax(CLWP_PC_GLOBAL.surveyAjaxUrl,{type:"POST",beforeSend:function(xhr){xhr.setRequestHeader("X-WP-Nonce",CLWP_PC_GLOBAL.nonce)},data:data,timeout:AJAX_TIMEOUT}).done(function(response){if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: done function",response)}if(response.status==0){if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: survey saved")}$this.trigger("cloroxPreferenceCenterSurvey",response.data);$message.text(response.message).show()}else{$.each(response.data.errors,function(){$error.append("<div>"+this.message+"</div>")});$error.show();$this.trigger("cloroxPreferenceCenterSurveyFailed",response.data.errors);enableSubmit($this)}}).fail(function(jqXHR,textStatus,errorThrown){if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: fail function")}$error.append(AJAX_COMM_ERROR+" ("+textStatus+")");$error.show();var errors=[];errors.push({code:jqXHR.status,message:textStatus});$this.trigger("cloroxPreferenceCenterSurveyFailed",errors);enableSubmit($this)});return false});_$document.on("submit","form.newsletter.ajax-form",function(){var $this=$(this);var $error=$(".ajax-error-newsletter").hide().empty();var $message=$(".ajax-message-newsletter").hide().empty();var data=$this.serialize();$.ajax(CLWP_PC_GLOBAL.newsletterAjaxUrl,{type:"POST",data:data,timeout:AJAX_TIMEOUT}).done(function(response){if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: done function",response)}if(response.status==0){if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: newsletter sign up")}$this.trigger("cloroxPreferenceCenterNewsletter",response.data);$message.text(response.message).show()}else{$.each(response.data.errors,function(){$error.append("<div>"+this.message+"</div>")});$error.show();$this.trigger("cloroxPreferenceCenterNewsletterFailed",response.data.errors);enableSubmit($this)}}).fail(function(jqXHR,textStatus,errorThrown){if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: fail function")}$error.append(AJAX_COMM_ERROR+" ("+textStatus+")");$error.show();var errors=[];errors.push({code:jqXHR.status,message:textStatus});$this.trigger("cloroxPreferenceCenterNewsletterFailed",errors);enableSubmit($this)});return false});_$document.on("submit","form.email-login.ajax-form",function(){var $this=$(this);var $error=$(".ajax-error-email-login").hide().empty();var $message=$(".ajax-message-email-login").hide().empty();var data=$this.serialize();$.ajax(CLWP_PC_GLOBAL.emailLoginAjaxUrl,{type:"POST",data:data,timeout:AJAX_TIMEOUT}).done(function(response){if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: done function",response)}if(response.status==0){if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: email login")}$this.trigger("cloroxPreferenceCenterEmailLogin",response.data);$message.text(response.message).show()}else{$.each(response.data.errors,function(){$error.append("<div>"+this.message+"</div>")});$error.show();$this.trigger("cloroxPreferenceCenterEmailLoginFailed",response.data.errors);enableSubmit($this)}}).fail(function(jqXHR,textStatus,errorThrown){if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: fail function")}$error.append(AJAX_COMM_ERROR+" ("+textStatus+")");$error.show();var errors=[];errors.push({code:jqXHR.status,message:textStatus});$this.trigger("cloroxPreferenceCenterEmailLoginFailed",errors);enableSubmit($this)});return false})});jQuery(function($){"use strict";(function(){if(typeof window.CustomEvent==="function")return false;function CustomEvent(event,params){params=params||{bubbles:false,cancelable:false,detail:null};var evt=document.createEvent("CustomEvent");evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail);return evt}window.CustomEvent=CustomEvent})();function createEvent(eventName,errors,context){return new window.CustomEvent(eventName,{detail:{errors:errors,context:context}})}function handlePermissionsResponse(fbPermissionsResponse,fbAuthResponse,$form){if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: FB.api /me/permissions",JSON.stringify(fbPermissionsResponse))}var data=fbPermissionsResponse.data;var hasEmailPermission=false;$.each(data,function(){var permission=this;hasEmailPermission=permission.permission==="email"&&permission.status==="granted";return false});if(!hasEmailPermission){handleError($form,[{code:302,message:"Email Permission Not Granted"}]);return}FB.api("/me?fields=id,email,first_name,last_name",function(fbMeResponse){var data={externalIdentifier:fbMeResponse.id,signedRequest:fbAuthResponse.authResponse.signedRequest,email:fbMeResponse.email,permissions:fbPermissionsResponse,action:"fb_login",log:fbMeResponse.email,_wp_original_http_referer:$("[name=_wp_original_http_referer]",$form).val(),redirect_to:$("[name=redirect_to]",$form).val()};if(CLWP_PC_GLOBAL.debug){console.log("ajax "+CLWP_PC_GLOBAL.loginFBUrl,JSON.stringify(data))}$.ajax(CLWP_PC_GLOBAL.loginFBUrl,{type:"POST",data:data,timeout:AJAX_TIMEOUT}).done(function(response,textStatus,jqXHR){if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: done function",response)}if(response.data.encrypted_consumer_id){CLWP_PC_GLOBAL.encryptedConsumerId=response.data.encrypted_consumer_id}if(response.status===0){if($form.hasClass("ajax-form")){CLWP_PC_GLOBAL.isLoggedIn=true;$form.trigger("cloroxPreferenceCenterLogin")}else{location.href=response.data.redirectUrl}}else{console.log(response);var hasErrors=false;$.each(response.data.errors,function(){var error=this;if(error.code!==207){hasErrors=true;return false}});if(hasErrors){handleError($form,response.data.errors)}else{if($form.hasClass("preference-center")&&$form.hasClass("login")){if($form.hasClass("ajax-form")){var $regForm=$("[name=registerform]");setFacebookRegFields($regForm,fbAuthResponse,fbMeResponse);$form.trigger("login.fb-not-registered")}else{location.href=CLWP_PC_GLOBAL.registerURL;return}}else if($form.hasClass("preference-center")&&$form.hasClass("register")){setFacebookRegFields($form,fbAuthResponse,fbMeResponse)}else{alert(response.data.message)}}}}).fail(function(jqXHR,textStatus,errorThrown){if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: fail function")}handleError($form,[{code:401,message:AJAX_COMM_ERROR+" ("+textStatus+")"}])})})}function handleError($form,errors){if(CLWP_PC_GLOBAL.debug){console.log("Triggering an error")}var context=$form.hasClass("register")?"register":"login";var beforeEvent=createEvent("facebookAuthErrorBefore",errors,context);window.dispatchEvent(beforeEvent);var $error;if($form.hasClass("register")){$error=$(".ajax-error-register").hide().empty()}else{$error=$(".ajax-error-login").hide().empty()}$.each(errors,function(){var error=this;$error.append("<div>"+error.message+"</div>")});$error.show();var afterEvent=createEvent("facebookAuthErrorAfter",errors,context);window.dispatchEvent(afterEvent)}function facebookLogin(fbResponse,$form){if(fbResponse.authResponse){FB.api("/me/permissions",function(fbPermissionsResponse){handlePermissionsResponse(fbPermissionsResponse,fbResponse,$form)})}else{if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: no auth")}}}function setFacebookRegFields($regForm,fbResponse,fbMeResponse){if(CLWP_PC_GLOBAL.debug){console.log("FB.api /me",fbMeResponse)}$regForm.find("input[name=pc_firstName]").val(fbMeResponse.first_name);$regForm.find("input[name=pc_lastName]").val(fbMeResponse.last_name);$regForm.find("input[name=user_email]").val(fbMeResponse.email);$regForm.find("input[name=externalIdentifier]").val(fbMeResponse.id);$regForm.find("input[name=signedRequest]").val(fbResponse.authResponse.signedRequest);$regForm.find(".registerPasswordControls").remove();$regForm.trigger("cloroxPreferenceCenterFBRegFieldsSet");if(!$regForm.hasClass("ajax-form")){$regForm.on("submit",function(){handleFacebookRegister($regForm);return false})}}if(CLWP_PC_GLOBAL.useFacebookLogin){if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: Facebook functionality activated")}var AJAX_TIMEOUT=6e4;var AJAX_COMM_ERROR="We're sorry we seem to be having difficulties "+"with your internet connection. Please try again at a later time. ";window.fbAsyncInit=function(){FB.Event.subscribe("auth.statusChange",function(response){if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: auth.statusChange",response)}if(location.search.indexOf("fb=1")>0){if(response.authResponse){FB.api("/me?fields=id,email,first_name,last_name",function(fbMeResponse){var $regForm=$("#registerform");setFacebookRegFields($regForm,response,fbMeResponse)})}}});FB.init({appId:CLWP_PC_GLOBAL.FACEBOOK_APP_ID,status:true,xfbml:false,version:"v3.0"})};$(document.body).prepend('<div id="fb-root"></div>').on("click","a.facebookConnect",function(e){e.preventDefault();if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: FB Login Click "+" "+typeof CLWP_PC_GLOBAL.fbLogin+" "+CLWP_PC_GLOBAL.fbLogin)}if(typeof CLWP_PC_GLOBAL.fbLogin!=="undefined"&&CLWP_PC_GLOBAL.fbLogin===true){if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: Skip FB Login Click")}return}CLWP_PC_GLOBAL.fbLogin=true;setTimeout("CLWP_PC_GLOBAL.fbLogin = false",5e3);var $fbConnectButton=$(this);$fbConnectButton.trigger("connecting");var $form=$(this).closest("form");FB.getLoginStatus(function(response){if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: FB.getLoginStatus",response)}if(response.status==="connected"){if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: Logged into Facebook and our app.  Populating form fields.")}facebookLogin(response,$form);$fbConnectButton.trigger("connected");return}if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: Not logged into Facebook.  Asking user to log into Facebook first.")}FB.login(function(response){if(CLWP_PC_GLOBAL.debug){console.log("FB.login",response)}if(response.status==="connected"){if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: Logged into Facebook and our app.  Populating form fields.")}facebookLogin(response,$form);$fbConnectButton.trigger("connected")}else{if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: Not logged into Facebook.")}$fbConnectButton.trigger("failed")}},{scope:"public_profile,email"})})});window.handleFacebookRegister=function($form){$form.find('input[name="action"]').val("fb_register");var data=$form.serialize();$.ajax(CLWP_PC_GLOBAL.registerFBUrl,{type:"POST",data:data,timeout:AJAX_TIMEOUT}).done(function(response,textStatus,jqXHR){if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: done function",response)}if(response.status==0){if(response.data.encrypted_consumer_id){CLWP_PC_GLOBAL.encryptedConsumerId=response.data.encrypted_consumer_id}if($form.hasClass("ajax-form")){$form.trigger("cloroxPreferenceCenterRegister");CLWP_PC_GLOBAL.isLoggedIn=true;$form.trigger("cloroxPreferenceCenterLogin")}else{window.location.replace(response.data.redirectUrl)}}else{handleError($form,response.data.errors)}}).fail(function(jqXHR,textStatus,errorThrown){if(CLWP_PC_GLOBAL.debug){console.log("clorox-preference-center: fail function")}handleError($form,[{code:"",message:AJAX_COMM_ERROR+" ("+textStatus+")"}])});return false}}});